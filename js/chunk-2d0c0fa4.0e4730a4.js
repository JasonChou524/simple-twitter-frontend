(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0fa4"],{"43a0":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e.isLoading?[t("spinner")]:e._l(e.tweets,(function(i){return t("tweet-card",{key:i.id,attrs:{tweet:i},on:{afterAddLike:e.afterAddLike,afterRemoveLike:e.afterRemoveLike}})}))],2)},r=[],a=i("8f7b"),n=i("2375"),d=i("4cce"),o=i("2fa3"),c={components:{TweetCard:a["a"],Spinner:n["a"]},props:["user","reply"],data(){return{tweets:[],isLoading:!0}},created(){this.fetchUserLikes()},watch:{user(){this.fetchUserLikes()},reply(){this.afterCreateReply()}},methods:{async fetchUserLikes(){try{const{data:e}=await d["a"].getUserLikes({id:this.user.id});this.tweets=e.map(e=>({id:e.TweetId,description:e.description,createdAt:e.createdAt,RepliesCount:e.repliedCount,LikesCount:e.likesCount,isLiked:!0,User:this.user})),this.isLoading=!1}catch(e){o["a"].fire({icon:"error",title:"無法取得使用者推文，請稍候再試"})}},afterAddLike(e){this.tweets=this.tweets.map(t=>t.id===e?{...t,isLiked:!0,LikesCount:t.LikesCount+1}:t)},afterRemoveLike(e){this.tweets=this.tweets.map(t=>t.id===e?{...t,isLiked:!1,LikesCount:t.LikesCount-1}:t)},afterCreateReply(){this.tweets=this.tweets.map(e=>e.id===this.reply.TweetId?{...e,RepliesCount:e.RepliesCount+1}:e)}}},u=c,p=i("2877"),h=Object(p["a"])(u,s,r,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0c0fa4.0e4730a4.js.map