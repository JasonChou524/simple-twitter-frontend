(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9bd1"],{"8f8e":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[e.isLoading?[t("spinner")]:e._l(e.tweets,(function(s){return t("tweet-card",{key:s.id,attrs:{tweet:s},on:{afterAddLike:e.afterAddLike,afterRemoveLike:e.afterRemoveLike}})}))],2)},r=[],a=(s("3c65"),s("8f7b")),n=s("2375"),w=s("4cce"),d=s("2fa3"),o={components:{TweetCard:a["a"],Spinner:n["a"]},props:["user","reply","newTweet"],data(){return{tweets:[],isLoading:!0}},created(){this.fetchUserTweets()},watch:{user(){this.fetchUserTweets()},reply(){this.afterCreateReply()},newTweet(){this.afterCreateTweet()}},methods:{async fetchUserTweets(){try{const{data:e}=await w["a"].getUserTweets({id:this.user.id});this.tweets=e.map(e=>({...e,User:this.user})),this.isLoading=!1}catch(e){d["a"].fire({icon:"error",title:"無法取得使用者推文，請稍候再試"})}},afterAddLike(e){this.tweets=this.tweets.map(t=>t.id===e?{...t,isLiked:!0,LikesCount:t.LikesCount+1}:t)},afterRemoveLike(e){this.tweets=this.tweets.map(t=>t.id===e?{...t,isLiked:!1,LikesCount:t.LikesCount-1}:t)},afterCreateTweet(){this.tweets.unshift(this.newTweet)},afterCreateReply(){this.tweets=this.tweets.map(e=>e.id===this.reply.TweetId?{...e,RepliesCount:e.RepliesCount+1}:e)}}},h=o,c=s("2877"),u=Object(c["a"])(h,i,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0e9bd1.bea85691.js.map