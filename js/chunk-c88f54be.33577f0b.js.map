{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/components/UserEditModal.vue","webpack:///src/components/UserEditModal.vue","webpack:///./src/components/UserEditModal.vue?28df","webpack:///./src/components/UserEditModal.vue?47e3","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue?1f52","webpack:///./src/assets/image/front-cover.png","webpack:///./src/components/UserEditModal.vue?142d","webpack:///./src/views/User.vue?7222"],"names":["render","_vm","this","_c","_self","staticClass","on","afterCreateTweet","isLoading","$event","$router","go","attrs","_v","_s","user","name","tweetsCount","frontCover","require","avatar","pageUserId","currentUser","id","openEditModal","isFollowed","removeFollow","addFollow","account","introduction","params","$route","followingsCount","Followers","length","newTweet","reply","isEditModalOpen","closeEditModal","afterSubmit","_e","isReplyModalOpen","afterCreateReply","staticRenderFns","stopPropagation","preventDefault","handleSubmit","clickCloseBtn","formData","staticStyle","uploadImage","directives","rawName","value","expression","domProps","target","composing","$set","nameLength","introductionLength","props","data","computed","created","methods","Toast","icon","title","editData","component","components","NavTabs","UserPopular","TweetReplyModal","UserEditModal","Spinner","front_cover","beforeRouteUpdate","next","module","exports"],"mappings":"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aACAC,aACAC,mBAQAlB,iBACA,0BACA,MACA,sCACA,uBC3MuV,I,wBCQnVoB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,4CC4HA,GACfC,YACAC,eACAC,mBACAC,uBACAC,gBACAC,gBAEAd,OACA,OACA/C,MACAQ,MACAP,QACAC,cACAW,WACAC,gBACAgD,eACAzD,UACAY,mBACAC,aACAR,eAEAW,SACAD,YACAE,mBACA7B,eAGAuD,aACA,mDACA1C,aACA,uCAGA2C,UACA,SAAAzC,GAAA,mBACA,mBAEAuD,yBACA,8BACA,kBACA,oBACA,kBAEAC,KAEAd,YACA,mEACA,mBACA,IACA,WAAAH,SAAA,gBAAAvC,QACA,GACAA,OACAP,cACAC,UACAW,eACAC,SACAT,kBACAY,YACAC,aACAR,GACA,EACA,gBACA,WACAF,KACAP,OACAC,cACAW,UACAC,eACAX,aACAE,SACAY,kBACAC,YACAR,cAEA,kBACA,SACAyC,aACAC,aACAC,yBAEA,yBAGA,mBACA,IACA,WAAAN,SAAA,kBAAAvC,OAEA,sBACA,2BAGA2C,aACAC,eACAC,eAGA,wBACA,SACAF,aACAC,aACAC,uBAIA,sBACA,IACA,WAAAN,SAAA,qBAAAvC,OAEA,sBACA,2BAGA2C,aACAC,eACAC,iBAGA,wBACA,SACAF,aACAC,aACAC,yBAIA7D,oBACA,8CACA,uBAGAmC,oBACA,kBACA,oBACA,wBAEAlB,gBACA,wCACA,0BAGAc,iBACA,yBAEAC,cACA,SAAAhB,GAAA,mBACA,qBCjS8U,ICQ1U,G,UAAY,eACd,EACAvB,EACA2C,GACA,EACA,KACA,WACA,OAIa,e,yDCnBfqC,EAAOC,QAAU,IAA0B,gC,kCCA3C,W,kCCAA,W","file":"js/chunk-c88f54be.33577f0b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-container\"},[_c('div',{staticClass:\"row\"},[_c('nav-tabs',{staticClass:\"col-3\",on:{\"afterCreateTweet\":_vm.afterCreateTweet}}),(_vm.isLoading)?_c('spinner',{staticClass:\"col-6\"}):_c('section',{staticClass:\"col-6\"},[_c('div',{staticClass:\"user\"},[_c('nav',{staticClass:\"header\"},[_c('a',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M20 10.9999H7.41399L11.707 6.70687C12.097 6.31687 12.097 5.68388 11.707 5.29288C11.317 4.90188 10.684 4.90288 10.293 5.29288L4.29299 11.2929C3.90299 11.6829 3.90299 12.3159 4.29299 12.7069L10.293 18.7069C10.488 18.9019 10.743 18.9999 11 18.9999C11.257 18.9999 11.512 18.9019 11.707 18.7069C12.097 18.3169 12.097 17.6839 11.707 17.2929L7.41399 12.9999H20C20.553 12.9999 21 12.5529 21 11.9999C21 11.4469 20.553 10.9999 20 10.9999Z\"}})])]),_c('div',{staticClass:\"title\"},[_c('h6',[_vm._v(_vm._s(_vm.user.name))]),_c('p',[_vm._v(_vm._s(_vm.user.tweetsCount)+\" 推文\")])])]),_c('div',{staticClass:\"img-wrap\"},[(_vm.user.frontCover)?_c('img',{staticClass:\"front-cover\",attrs:{\"src\":_vm.user.frontCover,\"alt\":\"\"}}):_c('img',{staticClass:\"front-cover\",attrs:{\"src\":require(\"@/assets/image/front-cover.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"avatar\"},[(_vm.user.avatar)?_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/image/tweet-default.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"user-card\"},[(_vm.pageUserId === _vm.currentUser.id)?_c('div',{staticClass:\"card-header\"},[_c('button',{on:{\"click\":_vm.openEditModal}},[_vm._v(\"編輯個人資料\")])]):_c('div',{staticClass:\"card-header\"},[(_vm.user.isFollowed)?_c('button',{staticClass:\"unfollow-btn\",on:{\"click\":function($event){return _vm.removeFollow(_vm.user.id)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"follow-btn\",on:{\"click\":function($event){return _vm.addFollow(_vm.user.id)}}},[_vm._v(\" 跟隨 \")])]),_c('div',{staticClass:\"card-body\"},[_c('h6',[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(_vm.user.account))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.user.introduction)+\" \")]),_c('div',{staticClass:\"follow-info\"},[_c('router-link',{attrs:{\"to\":{\n                  name: 'user-following',\n                  params: { id: _vm.$route.params.id }\n                }}},[_vm._v(_vm._s(_vm.user.followingsCount)+\" 個\"),_c('span',[_vm._v(\"跟隨中\")])]),_c('router-link',{attrs:{\"to\":{\n                  name: 'user-follower',\n                  params: { id: _vm.$route.params.id }\n                }}},[_vm._v(_vm._s(_vm.user.Followers.length)+\" 位\"),_c('span',[_vm._v(\"跟隨者\")])])],1)])]),_c('nav',{staticClass:\"navtabs\"},[_c('ul',[_c('li',{attrs:{\"active-class\":\"active\"}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{\n                  name: 'user-tweets',\n                  params: { id: _vm.$route.params.id }\n                },\"replace\":\"\"}},[_vm._v(\"推文\")])],1),_c('li',{attrs:{\"active-class\":\"active\"}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{\n                  name: 'user-replies',\n                  params: { id: _vm.$route.params.id }\n                },\"replace\":\"\"}},[_vm._v(\"回覆\")])],1),_c('li',{attrs:{\"active-class\":\"active\"}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'user-likes', params: { id: _vm.$route.params.id } },\"replace\":\"\"}},[_vm._v(\"喜歡的內容\")])],1)])]),_c('router-view',{attrs:{\"user\":_vm.user,\"newTweet\":_vm.newTweet,\"reply\":_vm.reply}})],1)]),_c('user-popular',{staticClass:\"col-3\"})],1),(_vm.isEditModalOpen)?_c('user-edit-modal',{attrs:{\"user\":_vm.user},on:{\"clickCloseBtn\":_vm.closeEditModal,\"handleSubmit\":_vm.afterSubmit}}):_vm._e(),(_vm.isReplyModalOpen)?_c('tweet-reply-modal',{on:{\"afterCreateReply\":_vm.afterCreateReply}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-background\"},[_c('form',{staticClass:\"modal-card\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"card-header\"},[_c('button',{staticClass:\"close-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clickCloseBtn}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M13.4141 11.9999L19.2071 6.20687C19.5971 5.81687 19.5971 5.18388 19.2071 4.79288C18.8171 4.40188 18.1841 4.40288 17.7931 4.79288L12.0001 10.5859L6.20712 4.79288C5.81712 4.40288 5.18412 4.40288 4.79312 4.79288C4.40212 5.18288 4.40312 5.81587 4.79312 6.20687L10.5861 11.9999L4.79312 17.7929C4.40312 18.1829 4.40312 18.8159 4.79312 19.2069C4.98812 19.4019 5.24312 19.4999 5.50012 19.4999C5.75712 19.4999 6.01212 19.4019 6.20712 19.2069L12.0001 13.4139L17.7931 19.2069C17.9881 19.4019 18.2431 19.4999 18.5001 19.4999C18.7571 19.4999 19.0121 19.4019 19.2071 19.2069C19.5971 18.8169 19.5971 18.1839 19.2071 17.7929L13.4141 11.9999Z\"}})])]),_c('h4',[_vm._v(\"編輯個人資料\")]),_c('button',{staticClass:\"submit-btn\",attrs:{\"type\":\"submit\"}},[_vm._v(\"儲存\")])]),_c('div',{staticClass:\"card-image\"},[_c('div',{staticClass:\"avatar\"},[(_vm.formData.avatar)?_c('img',{attrs:{\"src\":_vm.formData.avatar,\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/image/tweet-default.png\"),\"alt\":\"\"}}),_c('label',{staticClass:\"svg-btn\",attrs:{\"for\":\"avatar\"}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083H6.438C7.633 3.17 9.722 2 12 2C14.277 2 16.367 3.17 17.562 5.083H19.708C20.972 5.083 22 6.11 22 7.375V19.708C22 20.972 20.972 22 19.708 22ZM4.292 6.583C3.855 6.583 3.5 6.938 3.5 7.375V19.708C3.5 20.145 3.855 20.5 4.292 20.5H19.708C20.145 20.5 20.5 20.145 20.5 19.708V7.375C20.5 6.938 20.145 6.583 19.708 6.583H17.258C16.941 6.633 16.626 6.488 16.476 6.201C15.596 4.536 13.882 3.501 12 3.501C10.117 3.501 8.402 4.536 7.524 6.203C7.364 6.505 7.022 6.663 6.691 6.583H4.293H4.292Z\"}}),_c('path',{attrs:{\"d\":\"M11.9999 8.16699C9.31989 8.16699 7.13989 10.347 7.13989 13.027C7.13989 15.707 9.31989 17.887 11.9999 17.887C14.6799 17.887 16.8599 15.707 16.8599 13.027C16.8599 10.347 14.6799 8.16699 11.9999 8.16699ZM13.9999 13.75H12.7499V15C12.7499 15.414 12.4139 15.75 11.9999 15.75C11.5859 15.75 11.2499 15.414 11.2499 15V13.75H9.99989C9.58589 13.75 9.24989 13.414 9.24989 13C9.24989 12.586 9.58589 12.25 9.99989 12.25H11.2499V11C11.2499 10.586 11.5859 10.25 11.9999 10.25C12.4139 10.25 12.7499 10.586 12.7499 11V12.25H13.9999C14.4139 12.25 14.7499 12.586 14.7499 13C14.7499 13.414 14.4139 13.75 13.9999 13.75Z\"}})]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"avatar\",\"name\":\"avatar\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.uploadImage('avatar', $event)}}})])]),(_vm.formData.frontCover)?_c('img',{staticClass:\"front-cover\",attrs:{\"src\":_vm.formData.frontCover,\"alt\":\"\"}}):_c('img',{staticClass:\"front-cover\",attrs:{\"src\":require(\"@/assets/image/front-cover.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"front-cover-btn\"},[_c('label',{staticClass:\"svg-btn\",attrs:{\"for\":\"front-cover\"}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083H6.438C7.633 3.17 9.722 2 12 2C14.277 2 16.367 3.17 17.562 5.083H19.708C20.972 5.083 22 6.11 22 7.375V19.708C22 20.972 20.972 22 19.708 22ZM4.292 6.583C3.855 6.583 3.5 6.938 3.5 7.375V19.708C3.5 20.145 3.855 20.5 4.292 20.5H19.708C20.145 20.5 20.5 20.145 20.5 19.708V7.375C20.5 6.938 20.145 6.583 19.708 6.583H17.258C16.941 6.633 16.626 6.488 16.476 6.201C15.596 4.536 13.882 3.501 12 3.501C10.117 3.501 8.402 4.536 7.524 6.203C7.364 6.505 7.022 6.663 6.691 6.583H4.293H4.292Z\"}}),_c('path',{attrs:{\"d\":\"M11.9999 8.16699C9.31989 8.16699 7.13989 10.347 7.13989 13.027C7.13989 15.707 9.31989 17.887 11.9999 17.887C14.6799 17.887 16.8599 15.707 16.8599 13.027C16.8599 10.347 14.6799 8.16699 11.9999 8.16699ZM13.9999 13.75H12.7499V15C12.7499 15.414 12.4139 15.75 11.9999 15.75C11.5859 15.75 11.2499 15.414 11.2499 15V13.75H9.99989C9.58589 13.75 9.24989 13.414 9.24989 13C9.24989 12.586 9.58589 12.25 9.99989 12.25H11.2499V11C11.2499 10.586 11.5859 10.25 11.9999 10.25C12.4139 10.25 12.7499 10.586 12.7499 11V12.25H13.9999C14.4139 12.25 14.7499 12.586 14.7499 13C14.7499 13.414 14.4139 13.75 13.9999 13.75Z\"}})]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"front-cover\",\"name\":\"front_cover\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.uploadImage('frontCover', $event)}}})])])]),_c('ul',{staticClass:\"card-input\"},[_c('li',{staticClass:\"input-area name\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.name),expression:\"formData.name\"}],attrs:{\"type\":\"text\",\"id\":\"name\",\"name\":\"name\",\"placeholder\":\"請輸入使用者名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.formData.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"name\", $event.target.value)}}}),_c('p',[_vm._v(_vm._s(_vm.nameLength)+\"/50\")])]),_c('li',{staticClass:\"input-area introduction\"},[_c('label',{attrs:{\"for\":\"introduction\"}},[_vm._v(\"自我介紹\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.introduction),expression:\"formData.introduction\"}],staticClass:\"introduction\",attrs:{\"id\":\"introduction\",\"name\":\"introduction\",\"placeholder\":\"請輸入自我介紹\"},domProps:{\"value\":(_vm.formData.introduction)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"introduction\", $event.target.value)}}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.introductionLength)+\"/160\")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-background\">\n    <form @submit.stop.prevent=\"handleSubmit($event)\" class=\"modal-card\">\n      <div class=\"card-header\">\n        <button class=\"close-btn\" @click=\"clickCloseBtn\" type=\"button\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path\n              d=\"M13.4141 11.9999L19.2071 6.20687C19.5971 5.81687 19.5971 5.18388 19.2071 4.79288C18.8171 4.40188 18.1841 4.40288 17.7931 4.79288L12.0001 10.5859L6.20712 4.79288C5.81712 4.40288 5.18412 4.40288 4.79312 4.79288C4.40212 5.18288 4.40312 5.81587 4.79312 6.20687L10.5861 11.9999L4.79312 17.7929C4.40312 18.1829 4.40312 18.8159 4.79312 19.2069C4.98812 19.4019 5.24312 19.4999 5.50012 19.4999C5.75712 19.4999 6.01212 19.4019 6.20712 19.2069L12.0001 13.4139L17.7931 19.2069C17.9881 19.4019 18.2431 19.4999 18.5001 19.4999C18.7571 19.4999 19.0121 19.4019 19.2071 19.2069C19.5971 18.8169 19.5971 18.1839 19.2071 17.7929L13.4141 11.9999Z\"\n            />\n          </svg>\n        </button>\n        <h4>編輯個人資料</h4>\n        <button class=\"submit-btn\" type=\"submit\">儲存</button>\n      </div>\n      <div class=\"card-image\">\n        <div class=\"avatar\">\n          <img v-if=\"formData.avatar\" :src=\"formData.avatar\" alt=\"\" />\n          <img v-else src=\"@/assets/image/tweet-default.png\" alt=\"\" />\n          <label for=\"avatar\" class=\"svg-btn\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path\n                d=\"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083H6.438C7.633 3.17 9.722 2 12 2C14.277 2 16.367 3.17 17.562 5.083H19.708C20.972 5.083 22 6.11 22 7.375V19.708C22 20.972 20.972 22 19.708 22ZM4.292 6.583C3.855 6.583 3.5 6.938 3.5 7.375V19.708C3.5 20.145 3.855 20.5 4.292 20.5H19.708C20.145 20.5 20.5 20.145 20.5 19.708V7.375C20.5 6.938 20.145 6.583 19.708 6.583H17.258C16.941 6.633 16.626 6.488 16.476 6.201C15.596 4.536 13.882 3.501 12 3.501C10.117 3.501 8.402 4.536 7.524 6.203C7.364 6.505 7.022 6.663 6.691 6.583H4.293H4.292Z\"\n              />\n              <path\n                d=\"M11.9999 8.16699C9.31989 8.16699 7.13989 10.347 7.13989 13.027C7.13989 15.707 9.31989 17.887 11.9999 17.887C14.6799 17.887 16.8599 15.707 16.8599 13.027C16.8599 10.347 14.6799 8.16699 11.9999 8.16699ZM13.9999 13.75H12.7499V15C12.7499 15.414 12.4139 15.75 11.9999 15.75C11.5859 15.75 11.2499 15.414 11.2499 15V13.75H9.99989C9.58589 13.75 9.24989 13.414 9.24989 13C9.24989 12.586 9.58589 12.25 9.99989 12.25H11.2499V11C11.2499 10.586 11.5859 10.25 11.9999 10.25C12.4139 10.25 12.7499 10.586 12.7499 11V12.25H13.9999C14.4139 12.25 14.7499 12.586 14.7499 13C14.7499 13.414 14.4139 13.75 13.9999 13.75Z\"\n              />\n            </svg>\n            <input\n              id=\"avatar\"\n              name=\"avatar\"\n              type=\"file\"\n              style=\"display: none\"\n              @change=\"uploadImage('avatar', $event)\"\n            />\n          </label>\n        </div>\n        <img\n          v-if=\"formData.frontCover\"\n          class=\"front-cover\"\n          :src=\"formData.frontCover\"\n          alt=\"\"\n        />\n        <img\n          v-else\n          class=\"front-cover\"\n          src=\"@/assets/image/front-cover.png\"\n          alt=\"\"\n        />\n        <div class=\"front-cover-btn\">\n          <label for=\"front-cover\" class=\"svg-btn\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path\n                d=\"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083H6.438C7.633 3.17 9.722 2 12 2C14.277 2 16.367 3.17 17.562 5.083H19.708C20.972 5.083 22 6.11 22 7.375V19.708C22 20.972 20.972 22 19.708 22ZM4.292 6.583C3.855 6.583 3.5 6.938 3.5 7.375V19.708C3.5 20.145 3.855 20.5 4.292 20.5H19.708C20.145 20.5 20.5 20.145 20.5 19.708V7.375C20.5 6.938 20.145 6.583 19.708 6.583H17.258C16.941 6.633 16.626 6.488 16.476 6.201C15.596 4.536 13.882 3.501 12 3.501C10.117 3.501 8.402 4.536 7.524 6.203C7.364 6.505 7.022 6.663 6.691 6.583H4.293H4.292Z\"\n              />\n              <path\n                d=\"M11.9999 8.16699C9.31989 8.16699 7.13989 10.347 7.13989 13.027C7.13989 15.707 9.31989 17.887 11.9999 17.887C14.6799 17.887 16.8599 15.707 16.8599 13.027C16.8599 10.347 14.6799 8.16699 11.9999 8.16699ZM13.9999 13.75H12.7499V15C12.7499 15.414 12.4139 15.75 11.9999 15.75C11.5859 15.75 11.2499 15.414 11.2499 15V13.75H9.99989C9.58589 13.75 9.24989 13.414 9.24989 13C9.24989 12.586 9.58589 12.25 9.99989 12.25H11.2499V11C11.2499 10.586 11.5859 10.25 11.9999 10.25C12.4139 10.25 12.7499 10.586 12.7499 11V12.25H13.9999C14.4139 12.25 14.7499 12.586 14.7499 13C14.7499 13.414 14.4139 13.75 13.9999 13.75Z\"\n              />\n            </svg>\n            <input\n              id=\"front-cover\"\n              name=\"front_cover\"\n              type=\"file\"\n              style=\"display: none\"\n              @change=\"uploadImage('frontCover', $event)\"\n            />\n          </label>\n\n          <!-- <button\n            class=\"svg-btn clear-btn\"\n            type=\"button\"\n            @click=\"clearFrontCover\"\n          >\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path\n                d=\"M13.4141 11.9999L19.2071 6.20687C19.5971 5.81687 19.5971 5.18388 19.2071 4.79288C18.8171 4.40188 18.1841 4.40288 17.7931 4.79288L12.0001 10.5859L6.20712 4.79288C5.81712 4.40288 5.18412 4.40288 4.79312 4.79288C4.40212 5.18288 4.40312 5.81587 4.79312 6.20687L10.5861 11.9999L4.79312 17.7929C4.40312 18.1829 4.40312 18.8159 4.79312 19.2069C4.98812 19.4019 5.24312 19.4999 5.50012 19.4999C5.75712 19.4999 6.01212 19.4019 6.20712 19.2069L12.0001 13.4139L17.7931 19.2069C17.9881 19.4019 18.2431 19.4999 18.5001 19.4999C18.7571 19.4999 19.0121 19.4019 19.2071 19.2069C19.5971 18.8169 19.5971 18.1839 19.2071 17.7929L13.4141 11.9999Z\"\n              />\n            </svg>\n          </button> -->\n        </div>\n      </div>\n      <ul class=\"card-input\">\n        <li class=\"input-area name\">\n          <label for=\"name\">名稱</label>\n          <input\n            v-model=\"formData.name\"\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            placeholder=\"請輸入使用者名稱\"\n            required\n          />\n          <p>{{ nameLength }}/50</p>\n        </li>\n        <li class=\"input-area introduction\">\n          <label for=\"introduction\">自我介紹</label>\n          <textarea\n            v-model=\"formData.introduction\"\n            class=\"introduction\"\n            id=\"introduction\"\n            name=\"introduction\"\n            placeholder=\"請輸入自我介紹\"\n          />\n          <p>{{ introductionLength }}/160</p>\n        </li>\n      </ul>\n    </form>\n  </div>\n</template>\n\n<script>\nimport usersAPI from '@/apis/users'\nimport { Toast } from '@/utils/helpers'\nexport default {\n  props: ['user'],\n  data() {\n    return {\n      formData: {}\n    }\n  },\n  computed: {\n    nameLength() {\n      if (this.formData.name) {\n        return this.formData.name.length\n      }\n      return 0\n    },\n    introductionLength() {\n      if (this.formData.introduction) {\n        return this.formData.introduction.length\n      }\n      return 0\n    }\n  },\n  created() {\n    this.formData = { ...this.user }\n  },\n  methods: {\n    clickCloseBtn() {\n      this.$emit('clickCloseBtn')\n    },\n    async handleSubmit(e) {\n      try {\n        if (this.formData.name.trim().length === 0) {\n          Toast.fire({\n            icon: 'error',\n            title: '名稱不能空白'\n          })\n          return\n        }\n        if (\n          !this.formData.introduction ||\n          this.formData.introduction.trim().length === 0\n        ) {\n          Toast.fire({\n            icon: 'error',\n            title: '自我介紹不能空白'\n          })\n          return\n        }\n        if (\n          this.formData.name === this.user.name &&\n          this.formData.introduction === this.user.introduction &&\n          this.formData.avatar === this.user.avatar &&\n          this.formData.frontCover === this.user.frontCover\n        ) {\n          Toast.fire({\n            icon: 'error',\n            title: '沒有修改任何資料'\n          })\n          return\n        }\n        const form = e.target\n        const formData = new FormData(form)\n        const id = this.$route.params.id\n        const { data } = await usersAPI.userEdit({ id, editData: formData })\n        if (data.status === 'error') {\n          throw new Error(data)\n        }\n        this.$store.commit('setCurrentUser', data.newData)\n        this.$emit('handleSubmit')\n        this.$emit('clickCloseBtn')\n      } catch (error) {\n        if (error.response) {\n          const { data } = error.response\n          Toast.fire({\n            icon: 'error',\n            title: `${data.message}`\n          })\n        } else {\n          Toast.fire({\n            icon: 'error',\n            title: '無法修改資料'\n          })\n        }\n      }\n    },\n    // clearFrontCover() {\n    //   this.formData.frontCover = '/img/front-cover.fcac2f20.png'\n    // },\n    uploadImage(type, e) {\n      const img = e.target.files[0]\n      if (img) {\n        const imgURL = window.URL.createObjectURL(img)\n        this.formData[type] = imgURL\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-background {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.modal-card {\n  width: 40%;\n  max-width: 650px;\n  border-radius: 14px;\n  background-color: #fff;\n  position: absolute;\n  top: 80px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  overflow: hidden;\n  .svg-btn {\n    border: 0;\n    background-color: transparent;\n    fill: #fff;\n  }\n}\n.card-header {\n  height: 56px;\n  padding: 16px 15px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid $light-blue2;\n  position: relative;\n  h4 {\n    color: $black;\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 26px;\n  }\n  button.close-btn {\n    width: 24px;\n    height: 24px;\n    margin-right: 36px;\n    padding: 0;\n    border: 0;\n    background-color: #fff;\n    cursor: pointer;\n    svg {\n      vertical-align: center;\n    }\n  }\n  button.submit-btn {\n    height: 40px;\n    padding: 8px 16px;\n    background-color: $brand-color;\n    border: 0;\n    border-radius: 50px;\n    color: #fff;\n    font-size: 16px;\n    line-height: 24px;\n    font-weight: 400;\n    position: absolute;\n    top: 8px;\n    right: 16px;\n    cursor: pointer;\n  }\n  svg {\n    width: 24px;\n    height: 24px;\n    fill: $brand-color;\n  }\n}\n.card-image {\n  position: relative;\n  .avatar {\n    width: 140px;\n    height: 140px;\n    border: 4px solid #fff;\n    border-radius: 100px;\n    position: absolute;\n    top: 130px;\n    left: 20px;\n    img {\n      width: 100%;\n      height: 100%;\n      vertical-align: middle;\n      border-radius: 100px;\n    }\n    label {\n      position: absolute;\n      top: 40%;\n      left: 42%;\n      cursor: pointer;\n    }\n  }\n  img.front-cover {\n    height: 200px;\n    width: 100%;\n    margin-bottom: 80px;\n  }\n  .front-cover-btn {\n    position: absolute;\n    top: 40%;\n    right: 50%;\n    transform: translate(50%, -50%);\n    label,\n    button {\n      cursor: pointer;\n      svg {\n        width: 24px;\n        height: 24px;\n      }\n    }\n    label {\n      margin-right: 35px;\n    }\n  }\n}\n.card-input {\n  padding: 0 16px;\n  .input-area {\n    width: 100%;\n    height: 54px;\n    margin-bottom: 32px;\n    padding: 2px 10px;\n    border-bottom: 2px solid $gray1;\n    border-radius: 0px 0px 4px 4px;\n    background-color: $gray-white3;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    &:has(.introduction) {\n      height: 147px;\n    }\n    label {\n      color: $gray1;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 22px;\n    }\n    input,\n    textarea {\n      height: 100%;\n      width: 100%;\n      padding: 0;\n      padding-top: 5px;\n      background-color: $gray-white3;\n      border: 0;\n      color: $black;\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 26px;\n      &.introduction {\n        height: 125px;\n        white-space: pre-wrap;\n        resize: none;\n      }\n      &:focus {\n        outline: none;\n      }\n      &::placeholder {\n        color: $gray3;\n      }\n    }\n    p {\n      display: block;\n      width: 100%;\n      padding-top: 10px;\n      color: $gray1;\n      font-weight: 500;\n      font-size: 12px;\n      line-height: 20px;\n      text-align: right;\n      position: absolute;\n      bottom: -25px;\n      right: 0px;\n      white-space: pre;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditModal.vue?vue&type=template&id=56c6fe8c&scoped=true&\"\nimport script from \"./UserEditModal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEditModal.vue?vue&type=style&index=0&id=56c6fe8c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56c6fe8c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"user-container\">\n    <div class=\"row\">\n      <nav-tabs class=\"col-3\" @afterCreateTweet=\"afterCreateTweet\" />\n      <spinner v-if=\"isLoading\" class=\"col-6\" />\n      <section v-else class=\"col-6\">\n        <div class=\"user\">\n          <nav class=\"header\">\n            <a @click=\"$router.go(-1)\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path\n                  d=\"M20 10.9999H7.41399L11.707 6.70687C12.097 6.31687 12.097 5.68388 11.707 5.29288C11.317 4.90188 10.684 4.90288 10.293 5.29288L4.29299 11.2929C3.90299 11.6829 3.90299 12.3159 4.29299 12.7069L10.293 18.7069C10.488 18.9019 10.743 18.9999 11 18.9999C11.257 18.9999 11.512 18.9019 11.707 18.7069C12.097 18.3169 12.097 17.6839 11.707 17.2929L7.41399 12.9999H20C20.553 12.9999 21 12.5529 21 11.9999C21 11.4469 20.553 10.9999 20 10.9999Z\"\n                />\n              </svg>\n            </a>\n            <div class=\"title\">\n              <h6>{{ user.name }}</h6>\n              <p>{{ user.tweetsCount }} 推文</p>\n            </div>\n          </nav>\n          <div class=\"img-wrap\">\n            <img\n              v-if=\"user.frontCover\"\n              class=\"front-cover\"\n              :src=\"user.frontCover\"\n              alt=\"\"\n            />\n            <img\n              v-else\n              class=\"front-cover\"\n              src=\"~@/assets/image/front-cover.png\"\n              alt=\"\"\n            />\n            <div class=\"avatar\">\n              <img v-if=\"user.avatar\" :src=\"user.avatar\" alt=\"\" />\n              <img v-else src=\"~@/assets/image/tweet-default.png\" alt=\"\" />\n            </div>\n          </div>\n          <div class=\"user-card\">\n            <div v-if=\"pageUserId === currentUser.id\" class=\"card-header\">\n              <button @click=\"openEditModal\">編輯個人資料</button>\n            </div>\n            <div v-else class=\"card-header\">\n              <button\n                v-if=\"user.isFollowed\"\n                class=\"unfollow-btn\"\n                @click=\"removeFollow(user.id)\"\n              >\n                正在跟隨\n              </button>\n              <button v-else class=\"follow-btn\" @click=\"addFollow(user.id)\">\n                跟隨\n              </button>\n            </div>\n            <div class=\"card-body\">\n              <h6>{{ user.name }}</h6>\n              <p class=\"account\">@{{ user.account }}</p>\n              <p>\n                {{ user.introduction }}\n              </p>\n              <div class=\"follow-info\">\n                <router-link\n                  :to=\"{\n                    name: 'user-following',\n                    params: { id: $route.params.id }\n                  }\"\n                  >{{ user.followingsCount }} 個<span>跟隨中</span></router-link\n                >\n                <router-link\n                  :to=\"{\n                    name: 'user-follower',\n                    params: { id: $route.params.id }\n                  }\"\n                  >{{ user.Followers.length }} 位<span\n                    >跟隨者</span\n                  ></router-link\n                >\n              </div>\n            </div>\n          </div>\n          <nav class=\"navtabs\">\n            <ul>\n              <li active-class=\"active\">\n                <router-link\n                  class=\"nav-link\"\n                  :to=\"{\n                    name: 'user-tweets',\n                    params: { id: $route.params.id }\n                  }\"\n                  replace\n                  >推文</router-link\n                >\n              </li>\n              <li active-class=\"active\">\n                <router-link\n                  class=\"nav-link\"\n                  :to=\"{\n                    name: 'user-replies',\n                    params: { id: $route.params.id }\n                  }\"\n                  replace\n                  >回覆</router-link\n                >\n              </li>\n              <li active-class=\"active\">\n                <router-link\n                  class=\"nav-link\"\n                  :to=\"{ name: 'user-likes', params: { id: $route.params.id } }\"\n                  replace\n                  >喜歡的內容</router-link\n                >\n              </li>\n            </ul>\n          </nav>\n          <router-view :user=\"user\" :newTweet=\"newTweet\" :reply=\"reply\" />\n        </div>\n      </section>\n      <user-popular class=\"col-3\" />\n    </div>\n    <user-edit-modal\n      v-if=\"isEditModalOpen\"\n      :user=\"user\"\n      @clickCloseBtn=\"closeEditModal\"\n      @handleSubmit=\"afterSubmit\"\n    />\n    <tweet-reply-modal\n      v-if=\"isReplyModalOpen\"\n      @afterCreateReply=\"afterCreateReply\"\n    />\n  </div>\n</template>\n\n<script>\nimport NavTabs from '@/components/NavTabs.vue'\nimport UserPopular from '@/components/UserPopular.vue'\nimport UserEditModal from '../components/UserEditModal.vue'\nimport TweetReplyModal from '@/components/TweetReplyModal.vue'\nimport Spinner from '@/components/Spinner.vue'\n\nimport { mapState, mapMutations } from 'vuex'\nimport usersAPI from '@/apis/users'\nimport { Toast } from './../utils/helpers'\n\nexport default {\n  components: {\n    NavTabs,\n    UserPopular,\n    TweetReplyModal,\n    UserEditModal,\n    Spinner\n  },\n  data() {\n    return {\n      user: {\n        id: -1,\n        name: '',\n        tweetsCount: 0,\n        account: '',\n        introduction: '',\n        front_cover: '',\n        avatar: '',\n        followingsCount: '',\n        Followers: '',\n        isFollowed: false\n      },\n      reply: {},\n      newTweet: {},\n      isEditModalOpen: false,\n      isLoading: true\n    }\n  },\n  computed: {\n    ...mapState(['currentUser', 'isReplyModalOpen']),\n    pageUserId() {\n      return Number(this.$route.params.id)\n    }\n  },\n  created() {\n    const { id } = this.$route.params\n    this.fetchUser(id)\n  },\n  beforeRouteUpdate(to, from, next) {\n    if (from.params.id !== to.params.id) {\n      this.isLoading = true\n      const userId = to.params.id\n      this.fetchUser(userId)\n    }\n    next()\n  },\n  methods: {\n    ...mapMutations(['openReplyModal', 'closeReplyModal', 'createReply']),\n    async fetchUser(userId) {\n      try {\n        const { data } = await usersAPI.getUser({ id: userId })\n        const {\n          id,\n          name,\n          tweetsCount,\n          account,\n          introduction,\n          avatar,\n          followingsCount,\n          Followers,\n          isFollowed\n        } = data\n        const frontCover = data.front_cover\n        this.user = {\n          id,\n          name,\n          tweetsCount,\n          account,\n          introduction,\n          frontCover,\n          avatar,\n          followingsCount,\n          Followers,\n          isFollowed\n        }\n        this.isLoading = false\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得個人資料，請稍後再試'\n        })\n        this.$router.push('/')\n      }\n    },\n    async addFollow(id) {\n      try {\n        const { data } = await usersAPI.addFollow({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        Toast.fire({\n          icon: 'success',\n          title: '追隨成功'\n        })\n\n        this.user.isFollowed = true\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '追隨失敗，請稍候再試'\n        })\n      }\n    },\n    async removeFollow(id) {\n      try {\n        const { data } = await usersAPI.removeFollow({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        Toast.fire({\n          icon: 'success',\n          title: '移除追隨成功'\n        })\n\n        this.user.isFollowed = false\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '移除追隨失敗，請稍候再試'\n        })\n      }\n    },\n    afterCreateTweet(newTweet) {\n      if (this.$route.params.id === this.currentUser.id) {\n        this.newTweet = { ...newTweet }\n      }\n    },\n    afterCreateReply(newReply) {\n      this.reply = { ...newReply }\n      this.createReply(newReply)\n      this.closeReplyModal()\n    },\n    openEditModal() {\n      if (this.pageUserId === this.currentUser.id) {\n        this.isEditModalOpen = true\n      }\n    },\n    closeEditModal() {\n      this.isEditModalOpen = false\n    },\n    afterSubmit() {\n      const { id } = this.$route.params\n      this.fetchUser(id)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-background {\n  z-index: 10;\n}\n.user-container {\n  width: 100vw;\n  height: 100vh;\n  max-width: 1400px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.user {\n  height: 100vh;\n  position: relative;\n  overflow-y: scroll;\n  border-right: 1px solid $light-blue2;\n  border-left: 1px solid $light-blue2;\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n  h6 {\n    font-size: 18px;\n    font-weight: 700;\n    line-height: 26px;\n    color: $black;\n  }\n  nav.header {\n    height: 74px;\n    padding: 24px;\n    border-bottom: 1px solid $light-blue2;\n    display: flex;\n    align-items: center;\n    backdrop-filter: blur(3px);\n    font-weight: 700;\n    position: sticky;\n    z-index: 5;\n    top: 0;\n    svg {\n      width: 24px;\n      height: 24px;\n      cursor: pointer;\n    }\n    .title {\n      margin-left: 16px;\n      p {\n        font-size: 13px;\n        font-weight: 500;\n        line-height: 19px;\n        color: $Secondary;\n      }\n    }\n  }\n  .img-wrap {\n    width: 100%;\n    position: relative;\n    z-index: 0;\n    .front-cover {\n      width: 100%;\n      height: 200px;\n      object-fit: cover;\n    }\n    .avatar {\n      width: 140px;\n      height: 140px;\n      border: 3px solid #fff;\n      border-radius: 100px;\n      position: absolute;\n      bottom: -70px;\n      left: 16px;\n      object-fit: cover;\n      img {\n        width: 100%;\n        height: 100%;\n        border-radius: 100px;\n      }\n    }\n  }\n  .card-header {\n    padding: 16px;\n    display: flex;\n    flex-direction: row-reverse;\n    button {\n      padding: 8px 16px;\n      border: 1px solid $brand-color;\n      border-radius: 50px;\n      background-color: #fff;\n      color: $brand-color;\n      font-size: 16px;\n      cursor: pointer;\n      &.unfollow-btn {\n        background-color: $brand-color;\n        color: #fff;\n      }\n      &.follow-btn {\n        border: 1px solid $brand-color;\n        background-color: #fff;\n        color: $brand-color;\n      }\n    }\n  }\n  .card-body {\n    padding: 0 16px;\n    p,\n    a {\n      margin-bottom: 6px;\n      color: $black;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 22px;\n      white-space: pre;\n      &.account {\n        margin-bottom: 8px;\n        color: $Secondary;\n      }\n    }\n    .follow-info {\n      display: flex;\n      a {\n        margin-right: 20px;\n      }\n      span {\n        color: $Secondary;\n      }\n    }\n  }\n  .navtabs {\n    .nav-link {\n      color: $gray4;\n      font-size: 15px;\n      font-weight: 700;\n      line-height: 22px;\n    }\n    ul {\n      display: flex;\n      align-items: center;\n      border-bottom: 1px solid $light-blue2;\n    }\n    li {\n      width: 130px;\n      padding: 15px 0;\n      text-align: center;\n      &:has(.router-link-active) {\n        border-bottom: 2px solid $brand-color;\n      }\n      .router-link-active {\n        color: $brand-color;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=358f2008&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=358f2008&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"358f2008\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/front-cover.fcac2f20.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=style&index=0&id=56c6fe8c&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=358f2008&prod&lang=scss&scoped=true&\""],"sourceRoot":""}