(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d489ce5c"],{"54e2":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(a){return a.preventDefault(),a.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._m(0),a("h3",[t._v("登入 Alphitter")]),a("div",{staticClass:"input-area account"},[a("label",{attrs:{for:"account"}},[t._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",id:"account",name:"account",placeholder:"請輸入帳號",required:""},domProps:{value:t.account},on:{input:function(a){a.target.composing||(t.account=a.target.value)}}})]),a("div",{staticClass:"input-area password"},[a("label",{attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",name:"password",placeholder:"請輸入密碼",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),a("button",{attrs:{type:"submit",disabled:t.isProcessing}},[t._v("登入")]),a("nav",[a("router-link",{staticClass:"nav-link",attrs:{to:"/signup"}},[t._v("註冊")])],1)])])},r=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("a1d8"),alt:""}})])}],n=(s("14d9"),s("7696")),o=s("2fa3"),i={data(){return{account:"",password:"",isProcessing:!1}},methods:{async handleSubmit(){try{if(!this.account.trim()||!this.password.trim())return void o["a"].fire({icon:"warning",title:"帳號與密碼不可為空"});this.isProcessing=!0;const{data:t}=await n["a"].signIn({account:this.account,password:this.password}),{id:a,account:s,name:e,email:r,avatar:i,role:c}=t.user;localStorage.setItem("token",t.token),this.$store.commit("setCurrentUser",{id:a,account:s,name:e,email:r,avatar:i,role:c}),this.$router.push("/")}catch(t){this.password="",o["a"].fire({icon:"error",title:"帳號或密碼錯誤"}),this.isProcessing=!1}}}},c=i,u=(s("722e"),s("2877")),d=Object(u["a"])(c,e,r,!1,null,"17aca825",null);a["default"]=d.exports},6330:function(t,a,s){},"722e":function(t,a,s){"use strict";s("6330")},7696:function(t,a,s){"use strict";var e=s("2fa3");a["a"]={signIn({account:t,password:a}){return e["b"].post("/users/signin",{account:t,password:a})},signUp({account:t,name:a,email:s,password:r,checkPassword:n}){return e["b"].post("/users",{account:t,name:a,email:s,password:r,checkPassword:n})}}}}]);
//# sourceMappingURL=chunk-d489ce5c.0f07bd7e.js.map